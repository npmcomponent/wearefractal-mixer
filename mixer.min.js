(function(){var e,t,n,r,i,s=[].slice;t=function(){function e(){this.events={}}return e.prototype.emit=function(){var e,t,n,r,i,o;t=arguments[0],e=2>arguments.length?[]:s.call(arguments,1);if(!this.events[t])return!1;o=this.events[t];for(r=0,i=o.length;r<i;r++)n=o[r],n.apply(null,e);return!0},e.prototype.addListener=function(e,t){var n,r;return this.emit("newListener",e,t),((r=(n=this.events)[e])!=null?r:n[e]=[]).push(t),this},e.prototype.on=e.prototype.addListener,e.prototype.once=function(e,t){var n,r=this;return n=function(){return r.removeListener(e,n),t.apply(null,arguments)},this.on(e,n),this},e.prototype.removeListener=function(e,t){var n;return this.events[e]?(this.events[e]=function(){var r,i,s,o;s=this.events[e],o=[];for(r=0,i=s.length;r<i;r++)n=s[r],n!==t&&o.push(n);return o}.call(this),this):this},e.prototype.removeAllListeners=function(e){return e!=null?delete this.events[e]:this.events={},this},e.prototype.off=e.prototype.removeListener,e.prototype.offAll=e.prototype.removeAllListeners,e}(),e=function(){},n={clone:function(){return i.module(this)},extend:function(e){return i.extend(this,e)},get:function(e){return this._.props[e]},set:function(e,t,n){return n==null&&(n=!1),this._.props[e]=t,n||(this.emit("change",e,t),this.emit("change:"+e,t),i.emit("change",this,e,t),i.emit("change:"+e,this,t)),this},has:function(e){return this._.props[e]!=null},remove:function(e,t){return t==null&&(t=!1),delete this._.props[e],t||(this.emit("change",e),this.emit("change:"+e),i.emit("change",this,e),i.emit("change:"+e,this),this.emit("remove",e),this.emit("remove:"+e),i.emit("remove",this,e),i.emit("remove:"+e,this)),this},emit:function(){var e,t;return e=1>arguments.length?[]:s.call(arguments,0),(t=this._.events).emit.apply(t,e),this},on:function(e,t){return this._.events.on(e,t.bind(this)),this},once:function(e,t){return this._.events.once(e,t.bind(this)),this},off:function(){var e,t;return e=1>arguments.length?[]:s.call(arguments,0),(t=this._.events).off.apply(t,e),this},offAll:function(){var e,t;return e=1>arguments.length?[]:s.call(arguments,0),(t=this._.events).offAll.apply(t,e),this}},r=-1,i={_:{},events:{},emitter:t,create:function(e){var t;return t=i.nu(e),i.extend(t,n),t.guid=++r,t._=i._[t.guid]={props:{},events:new i.emitter},t},nu:function(t){return e.prototype=t,new e},clone:function(e){return i.extend({},e)},extend:function(e,t){var n,r;for(n in t)r=t[n],e[n]=r;return e}},i.extend(i.events,new i.emitter),i.extend(i,i.events),typeof module!="undefined"&&module!==null?module.exports=i:window.mixer=i}).call(this);