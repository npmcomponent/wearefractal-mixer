(function(){var e,t,n,r=[].slice,i={}.hasOwnProperty,s=function(e,t){function r(){this.constructor=e}for(var n in t)i.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};e=function(){function e(){this.events={}}return e.prototype.emit=function(){var e,t,n,i,s,o;t=arguments[0],e=2>arguments.length?[]:r.call(arguments,1);if(!this.events[t])return!1;o=this.events[t];for(i=0,s=o.length;i<s;i++)n=o[i],n.apply(null,e);return!0},e.prototype.addListener=function(e,t){var n,r;return this.emit("newListener",e,t),((r=(n=this.events)[e])!=null?r:n[e]=[]).push(t),this},e.prototype.on=e.prototype.addListener,e.prototype.once=function(e,t){var n,r=this;return n=function(){return r.removeListener(e,n),t.apply(null,arguments)},this.on(e,n),this},e.prototype.removeListener=function(e,t){var n;return this.events[e]?(this.events[e]=function(){var r,i,s,o;s=this.events[e],o=[];for(r=0,i=s.length;r<i;r++)n=s[r],n!==t&&o.push(n);return o}.call(this),this):this},e.prototype.removeAllListeners=function(e){return e!=null?delete this.events[e]:this.events={},this},e.prototype.off=e.prototype.removeListener,e.prototype.offAll=e.prototype.removeAllListeners,e}(),t=function(e){function t(e){t.__super__.constructor.apply(this,arguments),this._={props:{}},e!=null&&this.extend(e)}return s(t,e),t.prototype.extend=function(e){return n.extend(this,e)},t.prototype.get=function(e){return this._.props[e]},t.prototype.getAll=function(){return this._.props},t.prototype.set=function(e,t,n){var r;if(typeof e=="object"){for(r in e)t=e[r],this.set(r,t);return this}return this._.props[e]=t,n||(this.emit("change",e,t),this.emit("change:"+e,t)),this},t.prototype.has=function(e){return this._.props[e]!=null},t.prototype.remove=function(e,t){return delete this._.props[e],t||(this.emit("change",e),this.emit("change:"+e),this.emit("remove",e),this.emit("remove:"+e)),this},t.prototype.emit=function(){var e,i,s,o,u,a;i=arguments[0],e=2>arguments.length?[]:r.call(arguments,1),t.__super__.emit.apply(this,arguments),a=n._listeners;for(o=0,u=a.length;o<u;o++)s=a[o],s.emit.apply(s,[i,this].concat(r.call(e)));return this},t}(e),t.create=function(){var e;return e=1>arguments.length?[]:r.call(arguments,0),function(e,t,n){n.prototype=e.prototype;var r=new n,i=e.apply(r,t);return Object(i)===i?i:r}(this,e,function(){})},n={_listeners:[],module:t,emitter:e,listen:function(e){return n._listeners.push(e)},create:function(){var e;return e=1>arguments.length?[]:r.call(arguments,0),t.create.apply(t,e)},extend:function(e,t){var n,r;for(n in t)r=t[n],e[n]=r;return e}},n.extend(n,new e),n.listen(n),typeof module!="undefined"&&module!==null?module.exports=n:window.mixer=n}).call(this);